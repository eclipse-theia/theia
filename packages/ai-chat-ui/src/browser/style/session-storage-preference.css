/********************************************************************************
 * Copyright (C) 2026 EclipseSource and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0
 ********************************************************************************/

/* Override max-width constraint from pref-input for session storage preference */
.theia-settings-container .pref-input:has(.session-storage-preference-container) {
    max-width: none;
}

.theia-settings-container .session-storage-preference-container {
    width: 100%;
}

.theia-settings-container .session-storage-scope-section {
    margin-bottom: var(--theia-ui-padding);
}

.theia-settings-container .session-storage-disclosure-row {
    display: flex;
    align-items: center;
    cursor: pointer;
    padding: calc(var(--theia-ui-padding) / 2) 0;
    user-select: none;
}

.theia-settings-container .session-storage-disclosure-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    cursor: pointer;
}

.theia-settings-container .session-storage-disclosure-button:focus {
    outline: 1px solid var(--theia-focusBorder);
    outline-offset: -1px;
}

.theia-settings-container .session-storage-disclosure-label {
    font-size: var(--theia-ui-font-size1);
    color: var(--theia-descriptionForeground);
    padding-left: calc(var(--theia-ui-padding) / 2);
}

.theia-settings-container .session-storage-expanded-section {
    margin-left: 20px;
    padding-left: calc(var(--theia-ui-padding) * 2);
    border-left: 1px solid var(--theia-panel-border);
}

.theia-settings-container .session-storage-expanded-section.hidden {
    display: none;
}

.theia-settings-container .session-storage-path-row {
    padding-bottom: var(--theia-ui-padding);
}

.theia-settings-container .session-storage-path-label {
    display: block;
    font-weight: bold;
    padding-top: var(--theia-ui-padding);
    padding-bottom: calc(var(--theia-ui-padding) / 2);
}

.theia-settings-container .session-storage-path-description {
    display: block;
    font-size: var(--theia-ui-font-size1);
    color: var(--theia-descriptionForeground);
    padding-bottom: calc(var(--theia-ui-padding) / 2);
    line-height: 18px;
}

.theia-settings-container .session-storage-path-input-container {
    display: flex;
    align-items: center;
    gap: var(--theia-ui-padding);
}

.theia-settings-container .session-storage-path-input {
    flex: 1;
    max-width: 320px;
}

/* In simplified no-workspace view, the input fills the pref-input container */
.theia-settings-container .session-storage-no-workspace > .session-storage-path-input {
    width: 100%;
}

.theia-settings-container .session-storage-reset-button {
    padding: 2px 6px;
    min-width: auto;
}

.theia-settings-container .session-storage-reset-button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Message styling for session storage path (errors and info) */
.theia-settings-container .session-storage-path-row .session-storage-message,
.theia-settings-container .session-storage-no-workspace .session-storage-message {
    border-style: solid;
    border-width: 1px;
    max-width: 320px;
    box-sizing: border-box;
    padding: var(--theia-ui-padding);
    margin-top: calc(var(--theia-ui-padding) / 2);
}

.theia-settings-container .session-storage-path-row .session-storage-message.error,
.theia-settings-container .session-storage-no-workspace .session-storage-message.error {
    border-color: var(--theia-inputValidation-errorBorder);
    background-color: var(--theia-inputValidation-errorBackground);
}

.theia-settings-container .session-storage-path-row .session-storage-message.info,
.theia-settings-container .session-storage-no-workspace .session-storage-message.info {
    border-color: var(--theia-inputValidation-infoBorder);
    background-color: var(--theia-inputValidation-infoBackground);
}
