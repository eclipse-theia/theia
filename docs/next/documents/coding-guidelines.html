<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>coding-guidelines | Theia API Documentation v1.66.0</title><link rel="icon" href="../assets/favicon.png" type="image/png"/><meta name="description" content="Documentation for Theia API Documentation v1.66.0"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">Theia API Documentation v1.66.0</a><div id="tsd-toolbar-links"><a href="https://theia-ide.org/">Eclipse Theia Website</a><a href="https://github.com/eclipse-theia/theia">GitHub</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">coding-guidelines</a></li></ul><h1>coding-guidelines</h1></div><div class="tsd-panel tsd-typography"><h1 id="coding-guidelines" class="tsd-anchor-link">Coding Guidelines<a href="#coding-guidelines" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><h2 id="indentation" class="tsd-anchor-link">Indentation<a href="#indentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Use 4 spaces per indentation level.</p>
<h2 id="imports" class="tsd-anchor-link">Imports<a href="#imports" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Use <code>organize imports</code> to sort imports, and make sure the imports work properly (e.g. imports from <code>/src/</code> rather than <code>/lib/</code> for *.ts files may break builds).</p>
<h2 id="names" class="tsd-anchor-link">Names<a href="#names" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a name="pascalcase-type"></a></p>
<ul>
<li><a href="#pascalcase-type">1.</a> Use PascalCase for <code>type</code> names.
<a name="pascalcase-enum"></a></li>
<li><a href="#pascalcase-enum">2.</a> Use PascalCase for <code>enum</code> values.
<a name="camelcase-fn"></a></li>
<li><a href="#camelcase-fn">3.</a>  Use camelCase for <code>function</code> and <code>method</code> names.
<a name="camelcase-var"></a></li>
<li><a href="#camelcase-var">4.</a>  Use camelCase for <code>property</code> names and <code>local variables</code>.
<a name="whole-words-names"></a></li>
<li><a href="#whole-words-names">5.</a> Use whole words in names when possible.
<a name="lower-case-names"></a></li>
</ul>
<pre><code class="ts"><span class="hl-12">// bad</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-15">termWdgId</span><span class="hl-1"> = </span><span class="hl-4">1</span><span class="hl-1">;</span><br/><br/><span class="hl-12">// good</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-15">terminalWidgetId</span><span class="hl-1"> = </span><span class="hl-4">1</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<ul>
<li><a href="#lower-case-names">6.</a> Use lower-case, dash-separated file names (e.g. <code>document-provider.ts</code>).
<a name="file-name"></a></li>
<li><a href="#file-name">7.</a> Name files after the main type it exports.</li>
</ul>
<blockquote>
<p>Why? It should be easy to find a type by a file name.
<a name="one-large-class-per-file"></a></p>
</blockquote>
<ul>
<li><a href="#one-large-class-per-file">7.1</a> Avoid one file with many large classes; put each class in its own file.</li>
</ul>
<blockquote>
<p>Why? It should be easy to find a class by a file name.
<a name="unique-names"></a></p>
</blockquote>
<ul>
<li><a href="#unique-names">8.</a> Give unique names to types and files. Use specific names to achieve it.</li>
</ul>
<blockquote>
<p>Why? In order to avoid duplicate records in file and type search.</p>
</blockquote>
<pre><code class="ts"><span class="hl-12">// bad</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-14">TitleButton</span><span class="hl-1"> {}</span><br/><br/><span class="hl-12">// good</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-14">QuickInputTitleButton</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<p><a name="no_underscore_private"></a></p>
<ul>
<li><a href="#no_underscore_private">9.</a> Do not use &quot;_&quot; as a prefix for private properties. Exceptions:
<a name="underscore_accessors"></a>
<ul>
<li><a href="#underscore_accessors">9.1</a> Exposing a property through get/set and using underscore for the internal field.
<a name="underscore_json"></a></li>
<li><a href="#underscore_json">9.2</a> Attaching internal data to user-visible JSON objects.
<a name="event_names"></a></li>
</ul>
</li>
<li><a href="#event_names">10.</a> Names of events follow the <code>on[Will|Did]VerbNoun?</code> pattern. The name signals if the event is going to happen (onWill) or already happened (onDid), what happened (verb), and the context (noun) unless obvious from the context.
<a name="unique-context-keys"></a></li>
<li><a href="#unique-context-keys">11.</a> Give unique names to keybinding contexts and keys to avoid collisions at runtime. Use specific names to achieve it.</li>
</ul>
<pre><code class="ts"><span class="hl-12">// bad</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">namespace</span><span class="hl-1"> </span><span class="hl-14">TerminalSearchKeybindingContext</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-15">disableSearch</span><span class="hl-1"> = </span><span class="hl-0">&#39;hideSearch&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-12">// good</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">namespace</span><span class="hl-1"> </span><span class="hl-14">TerminalSearchKeybindingContext</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-15">disableSearch</span><span class="hl-1"> = </span><span class="hl-0">&#39;terminalHideSearch&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-12">// bad</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-15">terminalFocusKey</span><span class="hl-1"> = </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-3">contextKeyService</span><span class="hl-1">.</span><span class="hl-5">createKey</span><span class="hl-1">&lt;</span><span class="hl-14">boolean</span><span class="hl-1">&gt;(</span><span class="hl-0">&#39;focus&#39;</span><span class="hl-1">, </span><span class="hl-6">false</span><span class="hl-1">);</span><br/><br/><span class="hl-12">// good</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-15">terminalFocusKey</span><span class="hl-1"> = </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-3">contextKeyService</span><span class="hl-1">.</span><span class="hl-5">createKey</span><span class="hl-1">&lt;</span><span class="hl-14">boolean</span><span class="hl-1">&gt;(</span><span class="hl-0">&#39;terminalFocus&#39;</span><span class="hl-1">, </span><span class="hl-6">false</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="types" class="tsd-anchor-link">Types<a href="#types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a name="no-expose-types"></a></p>
<ul>
<li><a href="#no-expose-types">1.</a> Do not export <code>types</code> or <code>functions</code> unless you need to share it across multiple components, <a href="#di-function-export">see as well</a>.
<a name="no-global-types"></a></li>
<li><a href="#no-global-types">2.</a> Do not introduce new <code>types</code> or <code>values</code> to the global namespace.
<a name="explicit-return-type"></a></li>
<li><a href="#explicit-return-type">3.</a> Always declare a return type in order to avoid accidental breaking changes because of changes to a method body.</li>
</ul>
<h2 id="interfacessymbols" class="tsd-anchor-link">Interfaces/Symbols<a href="#interfacessymbols" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a name="interfaces-no-i-prefix"></a></p>
<ul>
<li><a href="#interfaces-no-i-prefix">1.</a> Do not use <code>I</code> prefix for interfaces. Use <code>Impl</code> suffix for implementation of interfaces with the same name. See <a href="https://github.com/theia-ide/theia/issues/624">624</a> for the discussion on this.
<a name="classes-over-interfaces"></a></li>
<li><a href="#classes-over-interfaces">2.</a> Use classes instead of interfaces + symbols when possible to avoid boilerplate.</li>
</ul>
<pre><code class="ts"><span class="hl-12">// bad</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-15">TaskDefinitionRegistry</span><span class="hl-1"> = </span><span class="hl-5">Symbol</span><span class="hl-1">(</span><span class="hl-0">&#39;TaskDefinitionRegistry&#39;</span><span class="hl-1">);</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-14">TaskDefinitionRegistry</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">register</span><span class="hl-1">(</span><span class="hl-3">definition</span><span class="hl-1">: </span><span class="hl-14">TaskDefinition</span><span class="hl-1">): </span><span class="hl-14">void</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-14">TaskDefinitionRegistryImpl</span><span class="hl-1"> </span><span class="hl-6">implements</span><span class="hl-1"> </span><span class="hl-14">TaskDefinitionRegistry</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">register</span><span class="hl-1">(</span><span class="hl-3">definition</span><span class="hl-1">: </span><span class="hl-14">TaskDefinition</span><span class="hl-1">): </span><span class="hl-14">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><span class="hl-5">bind</span><span class="hl-1">(</span><span class="hl-3">TaskDefinitionRegistryImpl</span><span class="hl-1">).</span><span class="hl-5">toSelf</span><span class="hl-1">().</span><span class="hl-5">inSingletonScope</span><span class="hl-1">();</span><br/><span class="hl-5">bind</span><span class="hl-1">(</span><span class="hl-3">TaskDefinitionRegistry</span><span class="hl-1">).</span><span class="hl-5">toService</span><span class="hl-1">(</span><span class="hl-3">TaskDefinitionRegistryImpl</span><span class="hl-1">);</span><br/><br/><span class="hl-12">// good</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-14">TaskDefinitionRegistry</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">register</span><span class="hl-1">(</span><span class="hl-3">definition</span><span class="hl-1">: </span><span class="hl-14">TaskDefinition</span><span class="hl-1">): </span><span class="hl-14">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><span class="hl-5">bind</span><span class="hl-1">(</span><span class="hl-3">TaskDefinitionRegistry</span><span class="hl-1">).</span><span class="hl-5">toSelf</span><span class="hl-1">().</span><span class="hl-5">inSingletonScope</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p><strong>Exceptions</strong>
<a name="remote-interfaces"></a></p>
<ul>
<li><a href="#remote-interfaces">2.1</a> Remote services should be declared as an interface + a symbol in order to be used in the frontend and backend.</li>
</ul>
<h2 id="comments" class="tsd-anchor-link">Comments<a href="#comments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Use JSDoc style comments for <code>functions</code>, <code>interfaces</code>, <code>enums</code>, and <code>classes</code></li>
</ul>
<h2 id="strings" class="tsd-anchor-link">Strings<a href="#strings" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Use 'single quotes' for all strings that aren't <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">template literals</a></li>
</ul>
<h2 id="null-and-undefined" class="tsd-anchor-link">null and undefined<a href="#null-and-undefined" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Use <code>undefined</code>; do not use <code>null</code>.</p>
<h2 id="internationalizationlocalization" class="tsd-anchor-link">Internationalization/Localization<a href="#internationalizationlocalization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a name="nls-localize"></a></p>
<ul>
<li><a href="#nls-localize">1.</a> Always localize user-facing text with the <code>nls.localize(key, defaultValue, ...args)</code> function.</li>
</ul>
<blockquote>
<p>What is user-facing text? Any strings that are hard-coded (not calculated) that could be in any way visible to the user, be it labels for commands and menus, messages/notifications/dialogs, quick-input placeholders or preferences.</p>
</blockquote>
<p><a name="nls-localize-args"></a></p>
<ul>
<li><a href="#nls-localize-args">1.1.</a> Parameters for messages should be passed as the <code>args</code> of the <code>localize</code> function. They are inserted at the location of the placeholders - in the form of <code>{\d+}</code> - in the localized text. E.g. <code>{0}</code> will be replaced with the first <code>arg</code>, <code>{1}</code> with the second, etc.</li>
</ul>
<pre><code class="ts"><span class="hl-12">// bad</span><br/><span class="hl-3">nls</span><span class="hl-1">.</span><span class="hl-5">localize</span><span class="hl-1">(</span><span class="hl-0">&#39;hello&#39;</span><span class="hl-1">, </span><span class="hl-0">`Hello there </span><span class="hl-6">${</span><span class="hl-3">name</span><span class="hl-6">}</span><span class="hl-0">.`</span><span class="hl-1">);</span><br/><br/><span class="hl-12">// good</span><br/><span class="hl-3">nls</span><span class="hl-1">.</span><span class="hl-5">localize</span><span class="hl-1">(</span><span class="hl-0">&#39;hello&#39;</span><span class="hl-1">, </span><span class="hl-0">&#39;Hello there {0}.&#39;</span><span class="hl-1">, </span><span class="hl-3">name</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><a name="nls-localize-by-default"></a></p>
<ul>
<li><a href="#nls-localize-by-default">1.2.</a> The <code>nls.localizeByDefault</code> function automatically finds the translation key for VS Code's language packs just by using the default value as its argument and translates it into the currently used locale. If the <code>nls.localizeByDefault</code> function is not able to find a key for the supplied default value, a warning will be shown in the browser console. If there is no appropriate translation in VSCode, just use the <code>nls.localize</code> function with a new key using the syntax <code>theia/&lt;package&gt;/&lt;id&gt;</code>.</li>
</ul>
<pre><code class="ts"><span class="hl-12">// bad</span><br/><span class="hl-3">nls</span><span class="hl-1">.</span><span class="hl-5">localize</span><span class="hl-1">(</span><span class="hl-0">&#39;vscode/dialogService/close&#39;</span><span class="hl-1">, </span><span class="hl-0">&#39;Close&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-12">// good</span><br/><span class="hl-3">nls</span><span class="hl-1">.</span><span class="hl-5">localizeByDefault</span><span class="hl-1">(</span><span class="hl-0">&#39;Close&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><a name="nls-utilities"></a></p>
<ul>
<li><a href="#nls-utilities">2.</a> Use utility functions where possible:</li>
</ul>
<pre><code class="ts"><span class="hl-12">// bad</span><br/><span class="hl-7">command</span><span class="hl-1">: </span><span class="hl-3">Command</span><span class="hl-1"> = { </span><span class="hl-3">label:</span><span class="hl-1"> </span><span class="hl-3">nls</span><span class="hl-1">.</span><span class="hl-5">localize</span><span class="hl-1">(</span><span class="hl-3">key</span><span class="hl-1">, </span><span class="hl-3">defaultValue</span><span class="hl-1">), </span><span class="hl-3">originalLabel:</span><span class="hl-1"> </span><span class="hl-3">defaultValue</span><span class="hl-1"> };</span><br/><br/><span class="hl-12">// good</span><br/><span class="hl-3">command</span><span class="hl-1"> = </span><span class="hl-3">Command</span><span class="hl-1">.</span><span class="hl-5">toLocalizedCommand</span><span class="hl-1">({ </span><span class="hl-3">id:</span><span class="hl-1"> </span><span class="hl-3">key</span><span class="hl-1">, </span><span class="hl-3">label:</span><span class="hl-1"> </span><span class="hl-3">defaultValue</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<h2 id="style" class="tsd-anchor-link">Style<a href="#style" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Use arrow functions <code>=&gt;</code> over anonymous function expressions.</li>
<li>Only surround arrow function parameters when necessary. For example, <code>(x) =&gt; x + x</code> is wrong, but the following are correct:</li>
</ul>
<pre><code class="javascript"><span class="hl-3">x</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-3">x</span><span class="hl-1"> + </span><span class="hl-3">x</span><br/><span class="hl-1">(</span><span class="hl-3">x</span><span class="hl-1">,</span><span class="hl-3">y</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-3">x</span><span class="hl-1"> + </span><span class="hl-3">y</span><br/><span class="hl-16">&lt;</span><span class="hl-14">T</span><span class="hl-16">&gt;</span><span class="hl-1">(x: T, y: T) =&gt; x === y</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>Always surround loop and conditional bodies with curly braces.</li>
<li>Open curly braces always go on the same line as whatever necessitates them.</li>
<li>Parenthesized constructs should have no surrounding whitespace. A single space follows commas, colons, and semicolons in those constructs. For example:</li>
</ul>
<pre><code class="javascript"><span class="hl-13">for</span><span class="hl-1"> (</span><span class="hl-6">var</span><span class="hl-1"> </span><span class="hl-3">i</span><span class="hl-1"> = </span><span class="hl-4">0</span><span class="hl-1">, </span><span class="hl-3">n</span><span class="hl-1"> = </span><span class="hl-3">str</span><span class="hl-1">.</span><span class="hl-3">length</span><span class="hl-1">; </span><span class="hl-3">i</span><span class="hl-1"> &lt; </span><span class="hl-4">10</span><span class="hl-1">; </span><span class="hl-3">i</span><span class="hl-1">++) { }</span><br/><span class="hl-13">if</span><span class="hl-1"> (</span><span class="hl-3">x</span><span class="hl-1"> &lt; </span><span class="hl-4">10</span><span class="hl-1">) { }</span><br/><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-5">f</span><span class="hl-1">(</span><span class="hl-3">x</span><span class="hl-1">: </span><span class="hl-14">number</span><span class="hl-1">, </span><span class="hl-3">y</span><span class="hl-1">: </span><span class="hl-14">string</span><span class="hl-1">): </span><span class="hl-14">void</span><span class="hl-1"> { }</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>Use a single declaration per variable statement <br />(i.e. use <code>var x = 1; var y = 2;</code> over <code>var x = 1, y = 2;</code>).</li>
<li><code>else</code> goes on the line of the closing curly brace.</li>
</ul>
<h2 id="dependency-injection" class="tsd-anchor-link">Dependency Injection<a href="#dependency-injection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a name="property-injection"></a></p>
<ul>
<li><a href="#property-injection">1.</a> Use property injection over construction injection. Adding new dependencies via the construction injection is a breaking change.
<a name="post-construct"></a></li>
<li><a href="#post-construct">2.</a> Use a method decorated with <code>postConstruct</code> rather than the constructor to initialize an object, for example to register event listeners.</li>
</ul>
<pre><code class="ts"><span class="hl-1">@</span><span class="hl-5">injectable</span><span class="hl-1">()</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-14">MyComponent</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    @</span><span class="hl-5">inject</span><span class="hl-1">(</span><span class="hl-3">ApplicationShell</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-6">protected</span><span class="hl-1"> </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-3">shell</span><span class="hl-1">: </span><span class="hl-14">ApplicationShell</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    @</span><span class="hl-5">postConstruct</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-6">protected</span><span class="hl-1"> </span><span class="hl-5">init</span><span class="hl-1">(): </span><span class="hl-14">void</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-3">shell</span><span class="hl-1">.</span><span class="hl-3">activeChanged</span><span class="hl-1">.</span><span class="hl-5">connect</span><span class="hl-1">(() </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">doSomething</span><span class="hl-1">());</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><a name="singleton-scope"></a></p>
<ul>
<li><a href="#singleton-scope">3.</a> Make sure to add <code>inSingletonScope</code> for singleton instances, otherwise a new instance will be created on each injection request.</li>
</ul>
<pre><code class="ts"><span class="hl-12">// bad</span><br/><span class="hl-5">bind</span><span class="hl-1">(</span><span class="hl-3">CommandContribution</span><span class="hl-1">).</span><span class="hl-5">to</span><span class="hl-1">(</span><span class="hl-3">LoggerFrontendContribution</span><span class="hl-1">);</span><br/><br/><span class="hl-12">// good</span><br/><span class="hl-5">bind</span><span class="hl-1">(</span><span class="hl-3">CommandContribution</span><span class="hl-1">).</span><span class="hl-5">to</span><span class="hl-1">(</span><span class="hl-3">LoggerFrontendContribution</span><span class="hl-1">).</span><span class="hl-5">inSingletonScope</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p><a name="di-function-export"></a></p>
<ul>
<li><a href="#di-function-export">4.</a> Don't export functions, convert them into class methods. Functions cannot be overridden to change their behavior or work around a bug.</li>
</ul>
<pre><code class="ts"><span class="hl-12">// bad</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-5">createWebSocket</span><span class="hl-1">(</span><span class="hl-3">url</span><span class="hl-1">: </span><span class="hl-14">string</span><span class="hl-1">): </span><span class="hl-14">WebSocket</span><span class="hl-1"> {</span><br/><span class="hl-1">   ...</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-12">// good</span><br/><span class="hl-1">@</span><span class="hl-5">injectable</span><span class="hl-1">()</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-14">WebSocketProvider</span><span class="hl-1"> {</span><br/><span class="hl-1">   </span><span class="hl-6">protected</span><span class="hl-1"> </span><span class="hl-5">createWebSocket</span><span class="hl-1">(</span><span class="hl-3">url</span><span class="hl-1">: </span><span class="hl-14">string</span><span class="hl-1">): </span><span class="hl-14">WebSocket</span><span class="hl-1"> {</span><br/><span class="hl-1">       ...</span><br/><span class="hl-1">   }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">@</span><span class="hl-5">injectable</span><span class="hl-1">()</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-14">MyWebSocketProvider</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-14">WebSocketProvider</span><span class="hl-1"> {</span><br/><span class="hl-1">   </span><span class="hl-6">protected</span><span class="hl-1"> </span><span class="hl-5">createWebSocket</span><span class="hl-1">(</span><span class="hl-3">url</span><span class="hl-1">: </span><span class="hl-14">string</span><span class="hl-1">): </span><span class="hl-14">WebSocket</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-12">// create a web socket with custom options</span><br/><span class="hl-1">   }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Exceptions</strong>
<a name="di-convenient-function-export"></a></p>
<ul>
<li><a href="#di-convenient-function-export">4.1</a> Convenient functions which are based on the stable API can be exported in the corresponding namespace.</li>
</ul>
<p>In this case clients:</p>
<ul>
<li>can customize behaviour via exchanging the API implementation</li>
<li>have a choice to use convenient functions or an API directly</li>
</ul>
<pre><code class="ts"><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">namespace</span><span class="hl-1"> </span><span class="hl-14">MonacoEditor</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-12">// convenient function to get a Monaco editor based on the editor manager API</span><br/><span class="hl-1">    </span><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-5">getCurrent</span><span class="hl-1">(</span><span class="hl-3">manager</span><span class="hl-1">: </span><span class="hl-14">EditorManager</span><span class="hl-1">): </span><span class="hl-14">MonacoEditor</span><span class="hl-1"> | </span><span class="hl-14">undefined</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-13">return</span><span class="hl-1"> </span><span class="hl-5">get</span><span class="hl-1">(</span><span class="hl-3">manager</span><span class="hl-1">.</span><span class="hl-3">currentEditor</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    ...</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><a name="di-json-function-export"></a></p>
<ul>
<li><a href="#di-json-function-export">4.2</a> The special case of <a href="#di-convenient-function-export">4.1</a> is functions on a JSON type.</li>
</ul>
<p>JSON types are not supposed to be <em>implementable</em>, but only <em>instantiable</em>. They cannot have functions to avoid serialization issues.</p>
<pre><code class="ts"><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-14">CompositeTreeNode</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-14">TreeNode</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">children</span><span class="hl-1">: </span><span class="hl-14">ReadonlyArray</span><span class="hl-1">&lt;</span><span class="hl-14">TreeNode</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">    </span><span class="hl-12">// bad - JSON types should not have functions</span><br/><span class="hl-1">    </span><span class="hl-5">getFirstChild</span><span class="hl-1">(): </span><span class="hl-14">TreeNode</span><span class="hl-1"> | </span><span class="hl-14">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-12">// good - JSON types can have corresponding namespaces with functions</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">namespace</span><span class="hl-1"> </span><span class="hl-14">CompositeTreeNode</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-5">getFirstChild</span><span class="hl-1">(</span><span class="hl-3">parent</span><span class="hl-1">: </span><span class="hl-14">CompositeTreeNode</span><span class="hl-1">): </span><span class="hl-14">TreeNode</span><span class="hl-1"> | </span><span class="hl-14">undefined</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-13">return</span><span class="hl-1"> </span><span class="hl-3">parent</span><span class="hl-1">.</span><span class="hl-3">children</span><span class="hl-1">[</span><span class="hl-4">0</span><span class="hl-1">];</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    ...</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-12">// bad - JSON types should not be implemented</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-14">MyCompositeTreeNode</span><span class="hl-1"> </span><span class="hl-6">implements</span><span class="hl-1"> </span><span class="hl-14">CompositeTreeNode</span><span class="hl-1"> {</span><br/><span class="hl-1">    ...</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-12">// good - JSON types can be extended</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-14">MyCompositeTreeNode</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-14">CompositeTreeNode</span><span class="hl-1"> {</span><br/><span class="hl-1">    ...</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><a name="di-auxiliary-function-export"></a></p>
<ul>
<li><a href="#di-auxiliary-function-export">4.3</a> Auxiliary functions which are called from the customizable context can be exported in the corresponding namespace.</li>
</ul>
<pre><code class="ts"><span class="hl-1">@</span><span class="hl-5">injectable</span><span class="hl-1">()</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-14">DirtyDiffModel</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-12">// This method can be overridden. Subclasses have access to `DirtyDiffModel.documentContentLines`.</span><br/><span class="hl-1">    </span><span class="hl-6">protected</span><span class="hl-1"> </span><span class="hl-5">handleDocumentChanged</span><span class="hl-1">(</span><span class="hl-3">document</span><span class="hl-1">: </span><span class="hl-14">TextEditorDocument</span><span class="hl-1">): </span><span class="hl-14">void</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-3">currentContent</span><span class="hl-1"> = </span><span class="hl-3">DirtyDiffModel</span><span class="hl-1">.</span><span class="hl-5">documentContentLines</span><span class="hl-1">(</span><span class="hl-3">document</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">update</span><span class="hl-1">();</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">namespace</span><span class="hl-1"> </span><span class="hl-14">DirtyDiffModel</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-12">// the auxiliary function</span><br/><span class="hl-1">    </span><span class="hl-13">export</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-5">documentContentLines</span><span class="hl-1">(</span><span class="hl-3">document</span><span class="hl-1">: </span><span class="hl-14">TextEditorDocument</span><span class="hl-1">): </span><span class="hl-14">ContentLines</span><span class="hl-1"> {</span><br/><span class="hl-1">        ...</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><a name="no-multi-inject"></a></p>
<ul>
<li><a href="#no-multi-inject">5.</a> Don't use InversifyJS's <code>@multiInject</code>, use Theia's utility <code>ContributionProvider</code> to inject multiple instances.</li>
</ul>
<blockquote>
<p>Why?</p>
<ul>
<li><code>ContributionProvider</code> is a documented way to introduce contribution points. See <code>Contribution-Points</code>: <a href="https://www.theia-ide.org/docs/services_and_contributions">https://www.theia-ide.org/docs/services_and_contributions</a></li>
<li>If nothing is bound to an identifier, multi-inject resolves to <code>undefined</code>, not an empty array. <code>ContributionProvider</code> provides an empty array.</li>
<li>Multi-inject does not guarantee the same instances are injected if an extender does not use <code>inSingletonScope</code>. <code>ContributionProvider</code> caches instances to ensure uniqueness.</li>
<li><code>ContributionProvider</code> supports filtering. See <code>ContributionFilterRegistry</code>.</li>
</ul>
</blockquote>
<h2 id="css" class="tsd-anchor-link">CSS<a href="#css" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a name="css-use-lower-case-with-dashes"></a></p>
<ul>
<li><a href="#css-use-lower-case-with-dashes">1.</a> Use the <code>lower-case-with-dashes</code> format.
<a name="css-prefix-global-classes"></a></li>
<li><a href="#css-prefix-global-classes">2.</a> Prefix classes with <code>theia</code> when used as global classes.
<a name="no-styles-in-code"></a></li>
<li><a href="#no-styles-in-code">3.</a> Do not define styles in code. Introduce proper CSS classes.</li>
</ul>
<blockquote>
<p>Why? It is not possible to play with such styles in the dev tools without recompiling the code. CSS classes can be edited in the dev tools.</p>
</blockquote>
<h2 id="theming" class="tsd-anchor-link">Theming<a href="#theming" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a name="theming-no-css-color-variables"></a></p>
<ul>
<li><a href="#theming-no-css-color-variables">1.</a> Do not introduce CSS color variables. Implement <code>ColorContribution</code> and use <code>ColorRegistry.register</code> to register new colors.
<a name="theming-no-css-color-values"></a></li>
<li><a href="#theming-no-css-color-values">2.</a> Do not introduce hard-coded color values in CSS. Instead, refer to <a href="https://code.visualstudio.com/api/references/theme-color">VS Code colors</a> in CSS by prefixing them with <code>--theia</code> and replacing all dots with dashes. For example <code>widget.shadow</code> color can be referred to in CSS with <code>var(--theia-widget-shadow)</code>.
<a name="theming-derive-colors-from-vscode"></a></li>
<li><a href="#theming-derive-colors-from-vscode">3.</a> Always derive new colors from existing <a href="https://code.visualstudio.com/api/references/theme-color">VS Code colors</a>. New colors can be derived from an existing color by plain reference, e.g. <code>dark: 'widget.shadow'</code>, or transformation, e.g. <code>dark: Color.lighten('widget.shadow', 0.4)</code>.</li>
</ul>
<blockquote>
<p>Why? Otherwise, there is no guarantee that new colors will fit well into new VSCode color themes.
<a name="theming-theia-colors"></a></p>
</blockquote>
<ul>
<li><a href="#theming-theia-colors">4.</a> Apply different color values only in concrete Theia themes, see <a href="https://github.com/eclipse-theia/theia/blob/master/packages/monaco/data/monaco-themes/vscode/light_theia.json">Light (Theia)</a>, <a href="https://github.com/eclipse-theia/theia/blob/master/packages/monaco/data/monaco-themes/vscode/dark_theia.json">Dark (Theia)</a> and <a href="https://github.com/eclipse-theia/theia/blob/master/packages/monaco/data/monaco-themes/vscode/hc_theia.json">High Contrast (Theia)</a> themes.
<a name="theming-variable-naming"></a></li>
<li><a href="#theming-variable-naming">5.</a> Names of variable follow the <code>object.property</code> pattern.</li>
</ul>
<pre><code class="ts"><span class="hl-12">// bad</span><br/><span class="hl-0">&#39;button.secondary.foreground&#39;</span><br/><span class="hl-0">&#39;button.secondary.disabled.foreground&#39;</span><br/><br/><span class="hl-12">// good</span><br/><span class="hl-0">&#39;secondaryButton.foreground&#39;</span><br/><span class="hl-0">&#39;secondaryButton.disabledForeground&#39;</span>
</code><button type="button">Copy</button></pre>

<h2 id="react" class="tsd-anchor-link">React<a href="#react" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a name="no-bind-fn-in-event-handlers"></a></p>
<ul>
<li><a href="#no-bind-fn-in-event-handlers">1.</a> Do not bind functions in event handlers.
<ul>
<li>Extract a React component if you want to pass state to an event handler function.</li>
</ul>
</li>
</ul>
<blockquote>
<p>Why? Because doing so creates a new instance of the event handler function on each render and breaks React element caching leading to re-rendering and bad performance.</p>
</blockquote>
<pre><code class="ts"><span class="hl-12">// bad</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-14">MyWidget</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-14">ReactWidget</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">render</span><span class="hl-1">(): </span><span class="hl-14">React</span><span class="hl-1">.</span><span class="hl-14">ReactNode</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-13">return</span><span class="hl-1"> &lt;</span><span class="hl-14">div</span><span class="hl-1"> </span><span class="hl-14">onClick</span><span class="hl-1">={</span><span class="hl-14">this</span><span class="hl-1">.</span><span class="hl-14">onClickDiv</span><span class="hl-1">.</span><span class="hl-14">bind</span><span class="hl-1">(</span><span class="hl-14">this</span><span class="hl-1">)} /&gt;;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">protected</span><span class="hl-1"> </span><span class="hl-5">onClickDiv</span><span class="hl-1">(): </span><span class="hl-14">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-12">// do stuff</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-12">// bad</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-14">MyWidget</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-14">ReactWidget</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">render</span><span class="hl-1">(): </span><span class="hl-14">React</span><span class="hl-1">.</span><span class="hl-14">ReactNode</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-13">return</span><span class="hl-1"> &lt;</span><span class="hl-14">div</span><span class="hl-1"> </span><span class="hl-14">onClick</span><span class="hl-1">={() </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-14">this</span><span class="hl-1">.</span><span class="hl-14">onClickDiv</span><span class="hl-1">()} /&gt;;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">protected</span><span class="hl-1"> </span><span class="hl-5">onClickDiv</span><span class="hl-1">(): </span><span class="hl-14">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-12">// do stuff</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-12">// very bad</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-14">MyWidget</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-14">ReactWidget</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">render</span><span class="hl-1">(): </span><span class="hl-14">React</span><span class="hl-1">.</span><span class="hl-14">ReactNode</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-13">return</span><span class="hl-1"> &lt;</span><span class="hl-14">div</span><span class="hl-1"> </span><span class="hl-14">onClick</span><span class="hl-1">={</span><span class="hl-14">this</span><span class="hl-1">.</span><span class="hl-3">onClickDiv</span><span class="hl-1">} /&gt;;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">protected</span><span class="hl-1"> </span><span class="hl-5">onClickDiv</span><span class="hl-1">(): </span><span class="hl-14">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-12">// do stuff, no `this` access</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-12">// good</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-14">MyWidget</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-14">ReactWidget</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">render</span><span class="hl-1">(): </span><span class="hl-14">React</span><span class="hl-1">.</span><span class="hl-14">ReactNode</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-13">return</span><span class="hl-1"> &lt;</span><span class="hl-14">div</span><span class="hl-1"> </span><span class="hl-14">onClick</span><span class="hl-1">={</span><span class="hl-14">this</span><span class="hl-1">.</span><span class="hl-3">onClickDiv</span><span class="hl-1">} /&gt;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  protected onClickDiv = () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-12">// do stuff, can access `this`</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="uripath" class="tsd-anchor-link">URI/Path<a href="#uripath" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a name="uri-over-path"></a></p>
<ul>
<li><a href="#uri-over-path">1.</a> Pass URIs between frontend and backend, never paths. URIs should be sent as strings in JSON-RPC services, e.g. <code>RemoteFileSystemServer</code> accepts strings, not URIs.</li>
</ul>
<blockquote>
<p>Why? Frontend and backend can have different operating systems leading to incompatibilities between paths. URIs are normalized in order to be OS-agnostic.
<a name="frontend-fs-path"></a></p>
</blockquote>
<ul>
<li><a href="#frontend-fs-path">2.</a> Use <code>FileService.fsPath</code> to get a path on the frontend from a URI.
<a name="backend-fs-path"></a></li>
<li><a href="#backend-fs-path">3.</a> Use <code>FileUri.fsPath</code> to get a path on the backend from a URI. Never use it on the frontend.
<a name="explicit-uri-scheme"></a></li>
<li><a href="#explicit-uri-scheme">4.</a> Always define an explicit scheme for a URI.</li>
</ul>
<blockquote>
<p>Why? A URI without scheme will fall back to <code>file</code> scheme for now; in the future it will lead to a runtime error.
<a name="frontend-path"></a></p>
</blockquote>
<ul>
<li><a href="#frontend-path">5.</a> Use <code>Path</code> Theia API to manipulate paths on the frontend. Don't use Node.js APIs like <code>path</code> module. Also see <a href="code-organization.html">the code organization guideline</a>.
<a name="backend-fs"></a></li>
<li><a href="#backend-fs">6.</a> On the backend, use Node.js APIS to manipulate the file system, like <code>fs</code> and <code>fs-extra</code> modules.</li>
</ul>
<blockquote>
<p>Why? <code>FileService</code> is to expose file system capabilities to the frontend only. It's aligned with expectations and requirements on the frontend. Using it on the backend is not possible.
<a name="use-long-name"></a></p>
</blockquote>
<ul>
<li><a href="#use-long-name">7.</a> Use <code>LabelProvider.getLongName(uri)</code> to get a system-wide human-readable representation of a full path. Don't use <code>uri.toString()</code> or <code>uri.path.toString()</code>.
<a name="use-short-name"></a></li>
<li><a href="#use-short-name">8.</a> Use <code>LabelProvider.getName(uri)</code> to get a system-wide human-readable representation of a simple file name.
<a name="use-icon"></a></li>
<li><a href="#use-icon">9.</a> Use <code>LabelProvider.getIcon(uri)</code> to get a system-wide file icon.
<a name="uri-no-string-manipulation"></a></li>
<li><a href="#uri-no-string-manipulation">10.</a> Don't use <code>string</code> to manipulate URIs and paths. Use <code>URI</code> and <code>Path</code> capabilities instead, like <code>join</code>, <code>resolve</code> and <code>relative</code>.</li>
</ul>
<blockquote>
<p>Why? Because object representation can handle corner cases properly, like trailing separators.</p>
</blockquote>
<pre><code class="ts"><span class="hl-12">// bad</span><br/><span class="hl-3">uriString</span><span class="hl-1"> + </span><span class="hl-0">&#39;/&#39;</span><span class="hl-1"> + </span><span class="hl-3">pathString</span><br/><br/><span class="hl-12">// good</span><br/><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">URI</span><span class="hl-1">(</span><span class="hl-3">uriString</span><span class="hl-1">).</span><span class="hl-5">join</span><span class="hl-1">(</span><span class="hl-3">pathString</span><span class="hl-1">)</span><br/><br/><span class="hl-12">// bad</span><br/><span class="hl-3">pathString</span><span class="hl-1">.</span><span class="hl-5">substring</span><span class="hl-1">(</span><span class="hl-3">absolutePathString</span><span class="hl-1">.</span><span class="hl-3">length</span><span class="hl-1"> + </span><span class="hl-4">1</span><span class="hl-1">)</span><br/><br/><span class="hl-12">// good</span><br/><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">Path</span><span class="hl-1">(</span><span class="hl-3">absolutePathString</span><span class="hl-1">).</span><span class="hl-5">relative</span><span class="hl-1">(</span><span class="hl-3">pathString</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h2 id="logging" class="tsd-anchor-link">Logging<a href="#logging" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a name="logging-use-console-log"></a></p>
<ul>
<li><a href="#logging-use-console-log">1.</a> Use <code>console</code> instead of <code>ILogger</code> for the root (top-level) logging.</li>
</ul>
<pre><code class="ts"><span class="hl-12">// bad</span><br/><span class="hl-1">@</span><span class="hl-5">inject</span><span class="hl-1">(</span><span class="hl-3">ILogger</span><span class="hl-1">)</span><br/><span class="hl-3">protected</span><span class="hl-1"> </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-7">logger</span><span class="hl-1">: </span><span class="hl-3">ILogger</span><span class="hl-1">;</span><br/><br/><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-3">logger</span><span class="hl-1">.</span><span class="hl-5">info</span><span class="hl-1">(</span><span class="hl-0">``</span><span class="hl-1">);</span><br/><br/><span class="hl-12">// good</span><br/><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-5">info</span><span class="hl-1">(</span><span class="hl-0">``</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p>Why? All calls to console are intercepted on the frontend and backend and then forwarded to an <code>ILogger</code> instance already. The log level can be configured from the CLI: <code>theia start --log-level=debug</code>.</p>
</blockquote>
<h2 id="to-do-tags" class="tsd-anchor-link">&quot;To Do&quot; Tags<a href="#to-do-tags" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>There are situations where we can't properly implement some functionality at the time we merge a PR. In those cases, it is sometimes good practice to leave an indication that something needs to be fixed later in the code. This can be done by putting a &quot;tag&quot; string in a comment. This allows us to find the places we need to fix again later. Currently, we use two &quot;standard&quot; tags in Theia:</p>
<ul>
<li><code>@stubbed</code>
This tag is used in VS Code API implementations. Sometimes we need an implementation of an API in order for VS Code extensions to start up correctly, but we can't provide a proper  implementation of the underlying feature at this time. This might be because a certain feature has no corresponding UI in Theia or because we do not have the resources to provide a proper implementation.
Using the <code>@stubbed</code> tag in a JSDoc comment will mark the element as &quot;stubbed&quot; on the <a href="https://eclipse-theia.github.io/vscode-theia-comparator/status.html">API status page</a></li>
<li><code>@monaco-uplift</code>
Use this tag when some functionality can be added or needs to be fixed when we move to a newer version of the monaco editor. If you know which minimum version of Monaco we need, you can add that as a reminder.</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#coding-guidelines"><span>Coding <wbr/>Guidelines</span></a><ul><li><a href="#indentation"><span>Indentation</span></a></li><li><a href="#imports"><span>Imports</span></a></li><li><a href="#names"><span>Names</span></a></li><li><a href="#types"><span>Types</span></a></li><li><a href="#interfacessymbols"><span>Interfaces/<wbr/>Symbols</span></a></li><li><a href="#comments"><span>Comments</span></a></li><li><a href="#strings"><span>Strings</span></a></li><li><a href="#null-and-undefined"><span>null and undefined</span></a></li><li><a href="#internationalizationlocalization"><span>Internationalization/<wbr/>Localization</span></a></li><li><a href="#style"><span>Style</span></a></li><li><a href="#dependency-injection"><span>Dependency <wbr/>Injection</span></a></li><li><a href="#css"><span>CSS</span></a></li><li><a href="#theming"><span>Theming</span></a></li><li><a href="#react"><span>React</span></a></li><li><a href="#uripath"><span>URI/<wbr/>Path</span></a></li><li><a href="#logging"><span>Logging</span></a></li><li><a href="#to-do-tags"><span>&quot;<wbr/>To <wbr/>Do&quot; <wbr/>Tags</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://theia-ide.org/" class="tsd-nav-link">Eclipse Theia Website</a><a href="https://github.com/eclipse-theia/theia" class="tsd-nav-link">GitHub</a></nav><nav class="tsd-navigation"><a href="../modules.html">Theia API Documentation v1.66.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div></body></html>
